(function(e){var i={logo_align:"left",links_align:"left",socialBar_align:"left",searchBar_align:"right",trigger:"hover",effect:"fade",effect_speed:400,sibling:!0,outside_click_close:!0,top_fixed:!1,sticky_header:!1,sticky_header_height:200,menu_position:"horizontal",full_width:!0,mobile_settings:{collapse:!1,sibling:!0,scrollBar:!0,scrollBar_height:400,top_fixed:!1,sticky_header:!1,sticky_header_height:200}};e.fn.megaMenu=function(s){return s=e.extend({},i,s||{}),this.each(function(){var i,t=e(this),n="ul",a="li",l="a",o=t.find(".menu-logo"),r=o.children(a),d=t.find(".menu-links"),c=(d.children(a),t.find(".menu-social-bar")),g=t.find(".menu-search-bar"),f=".menu-mobile-collapse-trigger",h=".mobileTriggerButton",_=".desktopTriggerButton",u="active",p="activeTrigger",m="activeTriggerMobile",b=".drop-down-multilevel, .drop-down, .drop-down-tab-bar",C="desktopTopFixed",v="mobileTopFixed",k="menuFullWidth";i={menu_full_width:function(){s.full_width===!0&&t.addClass(k)},logo_Align:function(){"right"===s.logo_align&&o.addClass("menu-logo-align-right")},links_Align:function(){"right"===s.links_align&&d.addClass("menu-links-align-right")},social_bar_Align:function(){"right"===s.socialBar_align&&c.addClass("menu-social-bar-right")},search_bar_Align:function(){"left"===s.searchBar_align&&g.addClass("menu-search-bar-left")},collapse_trigger_button:function(){if(s.mobile_settings.collapse===!0){r.append('<div class="menu-mobile-collapse-trigger"><span></span></div>');var i=d.add(c);i.hide(0),g.addClass(u),t.find(f).on("click",function(){return i.is(":hidden")?(e(this).addClass(u),i.show(0)):(e(this).removeClass(u),i.hide(0)),!1})}},switch_effects:function(){switch(s.effect){case"fade":t.find(b).addClass("effect-fade");break;case"scale":t.find(b).addClass("effect-scale");break;case"expand-top":t.find(b).addClass("effect-expand-top");break;case"expand-bottom":t.find(b).addClass("effect-expand-bottom");break;case"expand-left":t.find(b).addClass("effect-expand-left");break;case"expand-right":t.find(b).addClass("effect-expand-right")}},transition_delay:function(){t.find(b).css({webkitTransition:"all "+s.effect_speed+"ms ease ",transition:"all "+s.effect_speed+"ms ease "})},hover_trigger:function(){"hover"===s.trigger&&(i.transition_delay(),t.find(b).parents(a).addClass("hoverTrigger"),i.switch_effects())},mobile_trigger:function(){t.find(b).prev(l).append('<div class="mobileTriggerButton"></div>'),t.find(h).on("click",function(){var i=e(this),o=i.parents(l),r=o.next(b);return r.is(":hidden")?(s.mobile_settings.sibling===!0&&(i.parents(t).siblings(n+","+a).find(b).hide(0),i.parents(t).siblings(a).removeClass(m),i.parents(t).siblings(n).find(a).removeClass(m)),o.parent(a).addClass(m),r.show(0)):(o.parent(a).removeClass(m),r.hide(0)),!1}),t.find("i.fa.fa-indicator").on("click",function(){return!1})},click_trigger:function(){"click"===s.trigger&&(t.find(b).prev(l).append('<div class="desktopTriggerButton"></div>'),t.find(b).parents(a).addClass("ClickTrigger"),i.switch_effects(),i.transition_delay(),t.find(_).on("click",function(i){i.stopPropagation(),i.stopImmediatePropagation();var o=e(this),r=o.parents(l),d=r.next(b);d.hasClass(u)?(r.parent(a).removeClass(p),d.removeClass(u)):(s.sibling===!0&&(o.parents(t).siblings(n+","+a).find(b).removeClass(u),o.parents(t).siblings(a).removeClass(p),o.parents(t).siblings(n).find(a).removeClass(p)),r.parent(a).addClass(p),d.addClass(u))}))},scroll_bar:function(){s.mobile_settings.scrollBar===!0&&d.css({maxHeight:s.mobile_settings.scrollBar_height+"px",overflow:"auto"})},top_Fixed:function(){s.top_fixed===!0&&t.addClass(C),s.mobile_settings.top_fixed&&t.addClass(v)},sticky_Header:function(){var i=e(window),n=!0,a=!0,l=e(".menu-logo").outerHeight();e("#header").hasClass("logo-center")||e(".mega-menu .menu-list-items").height(l),t.find(b).is(":hidden")?s.mobile_settings.sticky_header===!0&&s.top_fixed===!1&&i.on("scroll",function(){i.scrollTop()>s.mobile_settings.sticky_header_height?a===!0&&(t.addClass(v),a=!1):a===!1&&(t.removeClass(v),a=!0)}):s.sticky_header===!0&&"horizontal"===s.menu_position&&s.top_fixed===!1&&i.on("scroll",function(){i.scrollTop()>s.sticky_header_height?n===!0&&(e("#header").hasClass("logo-center")||e(".mega-menu .menu-list-items").height("auto"),t.fadeOut(200,function(){if(e(this).addClass(C),!e("#header").hasClass("logo-center")){var i=e("#logo_img").outerHeight(!0);e(".mega-menu .menu-list-items").height(i)}e(this).fadeIn(200)}),n=!1):n===!1&&(t.fadeOut(200,function(){e("#header").hasClass("logo-center")||e(".mega-menu .menu-list-items").height(l),e(this).removeClass(C).fadeIn(200)}),n=!0)})},position:function(){"vertical-left"===s.menu_position?t.addClass("vertical-left"):"vertical-right"===s.menu_position&&t.addClass("vertical-right")}},i.menu_full_width(),i.logo_Align(),i.links_Align(),i.social_bar_Align(),i.search_bar_Align(),i.collapse_trigger_button(),i.hover_trigger(),i.mobile_trigger(),i.click_trigger(),i.scroll_bar(),i.top_Fixed(),i.sticky_Header(),i.position(),e(window).resize(function(){i.sticky_Header()})})}})(jQuery);